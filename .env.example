# =============================
# UZEED - Environment variables
# =============================

# ---------- Core ----------
NODE_ENV=production
APP_URL=https://uzeed.cl
API_URL=https://api.uzeed.cl

# Postgres 17 (Coolify DB service)
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/uzeed?schema=public

# Sessions
SESSION_SECRET=change-me-long-random
SESSION_COOKIE_NAME=uzeed_session
# For production on uzeed.cl + api.uzeed.cl, set:
COOKIE_DOMAIN=.uzeed.cl

# CORS
WEB_ORIGIN=https://uzeed.cl
API_BASE_URL=https://api.uzeed.cl

# Uploads (LocalStorageProvider)
UPLOADS_DIR=uploads

# ---------- KHIPU (Pago Automático API v1.0) ----------
KHIPU_API_KEY=5c24de64-13fd-4f64-bdd4-acabe2c46bbb
KHIPU_BASE_URL=https://payment-api.khipu.com

# Webhook endpoints (must be public https)
KHIPU_SUBSCRIPTION_NOTIFY_URL=https://api.uzeed.cl/webhooks/khipu/subscription
KHIPU_CHARGE_NOTIFY_URL=https://api.uzeed.cl/webhooks/khipu/charge
KHIPU_RETURN_URL=https://uzeed.cl/dashboard
KHIPU_CANCEL_URL=https://uzeed.cl/dashboard

# Optional: if Khipu provides a specific webhook secret
KHIPU_WEBHOOK_SECRET=

# ---------- FLOW (Planes de Suscripción) ----------
FLOW_API_KEY=
FLOW_SECRET_KEY=
FLOW_BASE_URL=https://www.flow.cl/api
FLOW_CALLBACK_URL=https://api.uzeed.cl/webhooks/flow/subscription
# Plan ID used for subscriptions — create it once via POST /plans/setup
FLOW_PLAN_ID=UZEED_PRO_MENSUAL

# Membership
MEMBERSHIP_DAYS=30
MEMBERSHIP_PRICE_CLP=4990
SHOP_MONTHLY_PRICE_CLP=4990
# Free trial period in days (applies to PROFESSIONAL, ESTABLISHMENT, SHOP)
FREE_TRIAL_DAYS=7

# ---------- Resend (Email verification) ----------
RESEND_API_KEY=re_EDxWqbWD_NzbNWTCjFL1TfibzyaCKuXMe

# ---------- SMTP (optional) ----------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=no-reply@uzeed.cl

# ---------- Web Push / PWA ----------
# Generate with: npx web-push generate-vapid-keys
VAPID_SUBJECT=mailto:soporte@uzeed.cl
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
NEXT_PUBLIC_VAPID_PUBLIC_KEY=

# ---------- Web (Next.js) ----------
NEXT_PUBLIC_API_URL=https://api.uzeed.cl

# ---------- Admin ----------
ADMIN_EMAIL=admin@uzeed.cl
ADMIN_PASSWORD=Automazdabxzx94
